<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Wondertrip</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
          <div class="container">
              <a class="navbar-brand" href="#page-top">
                  <img src="assets/img/LogoAvecNom.png" alt="Logo WonderTrip">
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarResponsive">
                  <ul class="navbar-nav ms-auto">
                      <li class="nav-item"><a class="nav-link" href="#services">Contexte</a></li>
                      <li class="nav-item"><a class="nav-link" href="#about">Carte du Monde</a></li>
                      <li class="nav-item"><a class="nav-link" href="#team">Graphique</a></li>
                  </ul>
              </div>
          </div>
      </nav>
        <script>
          window.addEventListener('DOMContentLoaded', event => {

// Navbar shrink function
var navbarShrink = function () {
    const navbarCollapsible = document.body.querySelector('#mainNav');
    if (!navbarCollapsible) {
        return;
    }
    if (window.scrollY === 0) {
        navbarCollapsible.classList.remove('navbar-shrink')
    } else {
        navbarCollapsible.classList.add('navbar-shrink')
    }

};

// Shrink the navbar 
navbarShrink();

// Shrink the navbar when page is scrolled
document.addEventListener('scroll', navbarShrink);

//  Activate Bootstrap scrollspy on the main nav element
const mainNav = document.body.querySelector('#mainNav');
if (mainNav) {
    new bootstrap.ScrollSpy(document.body, {
        target: '#mainNav',
        rootMargin: '0px 0px -40%',
    });
};

// Collapse responsive navbar when toggler is visible
const navbarToggler = document.body.querySelector('.navbar-toggler');
const responsiveNavItems = [].slice.call(
    document.querySelectorAll('#navbarResponsive .nav-link')
);
responsiveNavItems.map(function (responsiveNavItem) {
    responsiveNavItem.addEventListener('click', () => {
        if (window.getComputedStyle(navbarToggler).display !== 'none') {
            navbarToggler.click();
        }
    });
});

});
        </script>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container">
                <div class="masthead-subheading">Bienvenue sur WonderTrip</div>
                <div class="masthead-heading text-uppercase">Content de vous voir!</div>
                <a class="btn btn-primary btn-xl text-uppercase" href="#services">Voir le Contexte</a>
            </div>
        </header>
        <!-- Conte-->
        <section class="page-section" id="services">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Voyage touristique international en 2022</h2>
                    <h3 class="section-subheading text-muted">Le tourisme repart enfin !</h3>
                </div>
                <div class="row text-center">
                    <div class="col-md-4">
                        <h4 class="my-3"></h4>
                        <p class="text-muted">Le tourisme international connaît une reprise spectaculaire
                            après l’effondrement lié à la pandémie de COVID-19. En 2022,
                            près de 960 millions de voyageurs ont franchi les frontières,
                            retrouvant leur soif de découverte et de diversité. L’Europe,
                            avec des destinations phares comme la France, l’Espagne et
                            l’Italie, a attiré le plus de visiteurs, tandis que des pays
                            comme le Maroc, l’Inde et le Mexique séduisent par leurs
                            traditions uniques.</p>
                    </div>
                    <div class="col-md-4">
                        <h4 class="my-3"></h4>
                        <p class="text-muted"> En Asie, le Japon et la Thaïlande ont
                            profité de leur réouverture, tandis que l’Afrique du Sud et le
                            Kenya fascinent par leur biodiversité. Cette reprise est
                            favorisée par la levée des restrictions, le retour des grands
                            événements mondiaux et l’essor de nouvelles tendances comme le
                            tourisme durable ou les séjours prolongés mêlant travail et
                            loisirs. Cependant, des défis demeurent : la hausse des prix des
                            voyages, la pression sur les infrastructures touristiques et la
                            prise de conscience des impacts environnementaux.</p>
                    </div>
                    <div class="col-md-4">
                        <h4 class="my-3"></h4>
                        <p class="text-muted">Aujourd’hui,
                            les voyageurs, particulièrement les jeunes générations,
                            privilégient les expériences immersives et responsables,
                            cherchant à explorer le monde tout en respectant les cultures et
                            l’environnement. Le tourisme se réinvente, offrant un équilibre
                            entre exploration, innovation et durabilité.</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Map-->
        <section class="page-section" id="about">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">La carte du monde</h2>
                    <h3 class="section-subheading text-muted">Les pays les plus visités.</h3>
                </div>
                <div class="container-fluid" id="map"></div>
              <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
            </div>
        </section>
        <!-- Graphique-->
        <section class="page-section bg-light" id="team">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Le Graphique</h2>
                    <h3 class="section-subheading text-muted">Le nombre de touristes par pays depuis 2015 en millions.</h3>
                </div>
                <canvas id="chart"></canvas>
                <input
                      type="range"
                      id="year-slider"
                      min="0"
                      max="7"
                      value="0"
                      step="1"
                      style="width: 100%; margin-top: 20px;"
                    />
                    <div class="text-center mt-2">
                      <span id="current-year">2015</span>
            </div>
        </section>
        <!-- Footer-->
        <footer class="footer py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 text-lg-start">Copyright &copy; Your Website 2023</div>
                    <div class="col-lg-4 my-3 my-lg-0">
                    </div>
                    <div class="col-lg-4 text-lg-end">
                        <a class="link-dark text-decoration-none me-3" href="#!">Privacy Policy</a>
                        <a class="link-dark text-decoration-none" href="#!">Terms of Use</a>
                    </div>
                </div>
            </div>
        </footer>
    </body>
    <script>
        const years = [
      2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024,
    ];
        const slider = document.getElementById("slider");
        const DATASETS = [
          [68.18, 84.45, 77.77, 10.18, 32.09, 13.28, 56.89, 8.9],
          [75.32, 82.68, 76.41, 10.33, 35.08, 14.57, 59.27, 10.04],
          [81.87, 86.76, 77.19, 11.35, 39.29, 0, 60.74, 10.29],
          [82.81, 89.32, 79.75, 12.29, 41.31, 0, 62.9, 10.47],
          [83.51, 90.91, 79.44, 12.93, 45.02, 17.75, 65.73, 10.23],
          [18.93, 41.68, 19.21, 2.78, 24.82, 6.29, 7.97, 2.8],
          [31.18, 48.4, 22.28, 3.72, 31.86, 6.99, 0, 2.26],
          [71.66, 48.4, 50.87, 10.87, 38.33, 6.99, 7.87, 5.7],
        ];
        let ctx = document.getElementById("chart");
        let chart = new Chart(ctx, {
          type: "bar",
          data: {
            labels: [
              "Espagne",
              "USA",
              "France",
              "Maroc",
              "Mexique",
              "Inde",
              "Chine",
              "Afrique du Sud",
            ],
            datasets: [
              {
                label: "Nombre de millions de touristes dans l'année",
                data: DATASETS[0],
                backgroundColor: [
                  "#3f3134",
                  "#57333b",
                  "#6f3542",
                  "#9f394f",
                  "#873749",
                  "#D13255",
                  "#af2442",
                  "#DC143C",
                ],
                borderWidth: 0,
                pointRadius: 0,
              },
            ],
            options: {
              scales: {
          y: {
            beginAtZero: true,
          },
        },
            },
          },
        });

        const yearSlider = document.getElementById("year-slider");
    const currentYear = document.getElementById("current-year");
    
    yearSlider.addEventListener("input", (event) => {
      const yearIndex = event.target.value;
      chart.data.datasets[0].data = DATASETS[yearIndex];
      chart.update();
    
      currentYear.textContent = years[yearIndex];
    });
                    // Initialisation de la carte
                    const map = L.map('map').setView([20, 0], 2);
              
              // Couche de base OpenStreetMap
              L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.jpg', {
                maxZoom: 18,
              }).addTo(map);
            
              // Liste des pays avec leurs données (nom, pourcentage, image, couleurs, et info supplémentaire)
              const specialCountries = {
                "Spain": { percentage: "30%", image: "https://images.ctfassets.net/bth3mlrehms2/2T2y3fo3Z60l0XXMwjtstO/b49fd2cafa39dce2eed8791091e16ec3/Europe_Espagne_Barcelone_Sagrada_Familia.jpg?w=3841&h=2160&fl=progressive&q=50&fm=jpg", color: "#3f3134", hoverColor: "#D1ACB6", info: "En 2022, l'Espagne a été le pays le plus visité avec plus de 71 Millions de visiteurs à l'année. Grâce à ses nombreux paysages et ses villes mythiques ytelles que Madrid, Barcelone ou Valence, les touristes arrivent en masse pour les découvrir." },
                "United States of America": { percentage: "21%", image: "https://i.f1g.fr/media/cms/orig/2023/11/13/277475850b79db3dbbc7e2c7a04bf892787229f808c2a5912a67a513d878a2a7.jpg", color: "#57333b", hoverColor: "#D1ACB6", info: "Il s'agit d'une deuxième pays le plus visité au monde en 2022 avec plus de 50 millions de visiteurs en un an et notamment grâce à sa grandes surfaces et à sa fameuse route 66" },
                "France": { percentage: "20%", image: "https://www.breizhclub.bzh/blog/wp-content/uploads/2023/07/ENTETE.webp", color: "#6f3542", hoverColor: "#D1ACB6", info: "La France ferme le podium en prennant la troisième place dans les pays les plus visités en 2022, avec 48.4 millions de visiteurs et elle mérite emplement cette place grâce à ses paysages variés" },
                "Mexico": { percentage: "16%", image: "https://www.a2pasdumonde.fr/wp-content/uploads/2018/02/mexique-tulum.jpg", color: "#873749", hoverColor: "#D1ACB6", info: "En 2022, le Mexique se retrouve au pied du podium, en étant quatrième avec 38.33 millions de visiteurs." },
                "Morocco": { percentage: "4.5%", image: "https://www.terdav.com/Content/img/mag/vignettes/grande/1503.jpg", color: "#9f394f", hoverColor: "#D1ACB6", info: "En 2022, le Maroc se retrouve en cinquième position avec 10.87 millions de visiteurs. Il s'agit du premier pays africain à se retrouver dans le classement." },
                "China": { percentage: "3.5%", image: "https://blog.action-sejours.com/wp-content/uploads/2020/04/muraille-de-chine.jpg", color: "#af2442", hoverColor: "#D1ACB6", info: "En 2022, la Chine a enregistré plus de 7.87 millions de visiteurs dans son pays ce qui fait d'elle le sixième pays le plus visité cette année là." },
                "India": { percentage: "3%", image: "https://upload.wikimedia.org/wikipedia/commons/7/74/Taj_Mahal%2C_Agra%2C_India_edit2.jpg", color: "#D13255", hoverColor: "#D1ACB6", info: "En 2022, l'Inde a enregistré plus de 6.99 millions de visiteurs dans son pays ce qui fait de lui le septième pays le plus visité cette année là juste devant l'Afrique du Sud." },
                "South Africa": { percentage: "2%", image: "https://images.ctfassets.net/rc3dlxapnu6k/7MlCb2W2dtfLl1sPiCv4fd/dbb9d5a8c091562012d6bcbe1336f1e5/iStock-477451698.jpg?w=2092&h=1176&fl=progressive&q=50&fm=jpg", color: "#DC143C", hoverColor: "#D1ACB6", info: "En 2022, l'Afrique du Sud se retrouve en huitième position de notre classement avec presque 6 millions de visiteurs cette année là." },
              };
            
              // Charger les données GeoJSON pour tous les pays
              const geojsonUrl = "https://raw.githubusercontent.com/johan/world.geo.json/master/countries.geo.json";
            
              fetch(geojsonUrl)
                .then(response => response.json())
                .then(data => {
                  L.geoJSON(data, {
                    filter: (feature) => {
                  // Exclure l'Antarctique
                  return feature.properties.name !== "Antarctica";
                },
                    style: (feature) => {
                      const countryName = feature.properties.name;
                      if (specialCountries[countryName]) {
                        return {
                          color: "#333",
                          weight: 1,
                          fillColor: specialCountries[countryName].color,
                          fillOpacity: 0.7,
                        };
                      }
                      return {
                        color: "#333",
                        weight: 1,
                        fillColor: "#ccc",
                        fillOpacity: 0.7,
                      };
                    },
                    onEachFeature: (feature, layer) => {
                      const countryName = feature.properties.name;
            
                      // Interaction pour tous les pays
                      layer.on({
                        mouseover: (e) => {
                          const special = specialCountries[countryName];
                          if (special) {
                            e.target.setStyle({ fillColor: special.hoverColor, fillOpacity: 1 });
            
                            // Afficher le popup
                            const popupContent = `
                              <div class="popup-content">
                                <strong>${countryName}</strong><br>
                                Pourcentage : ${special.percentage}<br>
                                <span>${special.info}</span><br>
                                <img src="${special.image}" alt="${countryName}">
                              </div>
                            `;
                            const popup = L.popup()
                              .setLatLng(e.latlng)
                              .setContent(popupContent)
                              .openOn(map);
                          }
                        },
                        mouseout: (e) => {
                          const special = specialCountries[countryName];
                          if (special) {
                            e.target.setStyle({ fillColor: special.color, fillOpacity: 0.7 });
                          } else {
                            e.target.setStyle({ fillColor: '#ccc', fillOpacity: 0.7 });
                          }
                          map.closePopup(); // Ferme le popup
                        },
                        click: (e) => {
                          // Zoom sur le pays
                          map.fitBounds(layer.getBounds());
                        },
                      });
                    },
                  }).addTo(map);
                });
                window.addEventListener('resize', () => {
    setTimeout(() => {
        map.invalidateSize();
    }, 200);
});

      </script>
      <script>
        document.addEventListener('DOMContentLoaded', () => {
            const burger = document.querySelector('.navbar-burger');
            const menu = document.querySelector('.navbar-menu');
    
            burger.addEventListener('click', () => {
    
                burger.classList.toggle('is-active');
                menu.classList.toggle('is-active');
            });
        });
    </script>
</html>
